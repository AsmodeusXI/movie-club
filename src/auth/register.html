<div ng-controller="RegisterController as vm">

    <section>

        <h3>Need an account? Register here</h3>

        <div ng-if="vm.isLoading">
            <i class="fa fa-spin fa-spinner"></i> Initializing...
        </div>

        <div ng-if="!vm.isLoading && !vm.usernames">
            <h4>
                Oops! There was a problem initializing this form. You'll have to try registering again later.
            </h4>
        </div>

        <form
            name="vm.registrationForm"
            ng-if="!vm.isLoading && vm.usernames"
            ng-submit="vm.register()"
        >

            <div class="asterisk-text">
                Your username will be publicly viewable by the entire Internet
            </div>
            </br>

            <input
                maxlength="50"
                name="username"
                ng-model="vm.username"
                placeholder="Username"
                required
                type="text"
            />
            </br>

            <input
                maxlength="50"
                name="email"
                ng-model="vm.email"
                placeholder="Email"
                required
                type="email"
            />
            </br>

            <input
                maxlength="50"
                name="password"
                ng-model="vm.password"
                placeholder="Password"
                required
                type="password"
            />
            </br>

            <button
                ng-click="vm.register()"
                ng-disabled="!vm.registrationForm.$valid"
            >
                <i ng-if="vm.isSubmitting" class="fa fa-spin fa-spinner"></i> Submit
            </button>

            <h4 ng-if="vm.registrationFailed">Registration failed, please try again.</h4>

        </form>
    </section>
</div>
